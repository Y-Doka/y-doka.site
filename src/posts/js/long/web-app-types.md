---
title: "Виды веб-приложений"
name: web-app-types
author: windrushfarer
co-authors:
designers:
contributors:
summary:
  - web application
  - frontend фронтенд
---

## Кратко

Все веб-приложения делаются с помощью одних и тех же технологий: HTML, CSS и JavaScript. Однако, есть много способов организации работы приложения. Выбор способа зависит от цели приложения и пользовательского опыта, которого мы хотим добиться. Хотя основных подхода всего два: многостраничные приложения и Single Page Applications, на каждом подходе можно использовать различные техники для решения тех или иных проблем.

Статические многостраничные приложения состоят из статичных страниц, которые быстрее и проще разрабатывать. Для разработки сложных приложений в таком подходе придется подключать сервер и разработать процесс генерации страниц в зависимости от параметров. Но на каждый переход будет загружаться новая страница, который может занимать время.

Одностраничные приложения (SPA) предоставляют возможность разрабатывать клиентские приложения со сложной логикой прямо в браузер с помощью JavaScript. Переходы между экранами будут мгновенными, пользователь сразу видит результат своих действий. Однако такой подход часто заставляют подумать над другими проблемами. Как не загружать в браузер слишкой много кода? Как обеспечить хорошую производительность? Где рендерить изначально приложение: только на клиенте или на сервере?
Так же разработка таких приложений часто сложнее, т.к может потребовать знания различных инструментов и фреймворков для решения существующих проблем.

## Многостраничые приложения

Многостраничные приложения – это набор статичных веб-страниц, которые связаны между собой с помощью [ссылок](/html/doka/a). При клике на ссылки происходит переход между страницами, что ведет к полному обновлению страницы в брауезер. Этот одно из наиболее значимых отличий от SPA, о нем поговорим отдельно.

Для начала выделим два основных вида многостраничных приложений:
- Набор готовых сверстанных страниц, которые лежат на сервере и вместе с ними находятся и другие статичные файлы (CSS, JavaScript и картинки). Сервер имеет настроенные пути для этих файлов и по запросу отдает нужный из них.
- Динамическая генерация HTML на сервере. Чаще всего такое решение можно встретить на языках программирования PHP, Python и Ruby. При каждом запросе сервер запускает скрипт генерации HTML страницы. Скрипт может взять данные из базы данных, произвести вычисления и собрать готовый HTML-код страницы.

### Готовые веб-страницы

Такой подход к созданию приложения подойдет, если нужно собрать несколько связанных страниц, которые по большей части будут содержать статичную информацию, с которой пользователь может мало взаимодействовать. Примером такого может быть лендинг – это веб-сайт, который представляет информацию о чем-либо (чаще о компании, товарах или продукте).

Разработка сайта при таком подходе обычно самая простая. Рядом складываются несколько html-файлов, в которых содержится вся необходимая верстка и дополнительные CSS/JavaScript файлы, которые подключаются к нужной странице. В более продвинутом варианте можно переиспользовать те или иные части кода с помощью шаблонизаторов (например [Pug](https://pugjs.org/api/getting-started.html)) и собрать сайт по кусочкам используя сборщики (Gulp, Rollup, Webpack и др.). В результате на сервер попадёт набор статичных файлов, которые будут раздаваться с помощью веб-сервера (например Nginx).

Главное преимущество такого подхода — это отличная производительность. Статичные страницы и файлы легко кэшировать с помощью браузера, CDN или Service Worker.

![схема для подхода статических веб-страниц](/assets/images/posts/js/web-app-types/static-pages.png)

### Динамическая генерация HTML

Динамическая регистрация часто использовалась до изобретения Single Page подхода. Однако до сих пор так работают части таких больших приложений, как Facebook или ВКонтакте.

Главной особенностью этого подхода является использование серверных языков программирования (например PHP или Ruby), чтобы генерировать готовый HTML для страницы, собирая его из разных частей и обогащая необходимыми данными. Например пользователь перешел на страничку со списком друзей.
- Сервер, реагируя на запрос, сначала может сходить в базу данных, выбрав список друзей, затем вызовет еще несколько функций, чтобы получит все данные и в конце по своему шаблону соберет HTML-строку, которую отправит в ответ.
- В результате пользователь сразу получит готовую страницу со списком друзей. Если добавить новых друзей и зайти на страничку еще раз, то результат уже будет другой, т.к список изменился. Это отличается от первого подхода с готовыи веб-страницами, т.к содержимое в них не меняется со временем из-за действий пользователя.

Использование сервера для генерации содержимого позволяет не нагружать клиентский код сложной логикой, а значит итоговый размер страницы вместе со всеми ресурсами будет меньше. При этом статичные части приложения (даже целые куски страниц) можно так же легко кэшировать любым удобным способом.

![схема для подхода динамических веб-страниц](/assets/images/posts/js/web-app-types/dynamic-pages.png)

При всех плюсах многостраничных приложений, все они страдают от одного главного недостатка: при переходе между страницами браузер полностью обновляет содержимое, из-за чего нельзя создать полноценный опыт взаимодействия "как в приложении": незакэшированным страницам нужно время для загрузки, а значит не будет мгновенного перехода; так же будет сбиваться положение скрола и т.д.

В стремлении решить эти проблемы и создать полноценный опыт приложений веб-разработчики изобрели одностраниные приложения.

## Single page applications (SPA)

Одностраничные приложения (сокращенно SPA) состоят из одной страницы, а всю остальную работу (создание содержимого, переход между экранами и т.д.) выполняет JavaScript. Такой подход позволяет создать полноценный опыт приложения: переходы между экранами происходит мгновенно, можно давать пользователю визуальный ответ, пока данные загружаются асинхронно с помощью [API](/js/long/api/).

Разработка одностраничных приложений имеет богатую экосистему: фреймворки и библиотеки для создания интерфейсов, подходы к разработке, архитектурные паттерны. Одностраничные приложения делятся по месту начальной отрисовки страницы: в браузере (client side rendering) или на севере (server side rendering).

### Client Side Rendering (CSR)

В таком приложении вся отрисовка содержимого страницы, включая первую, происходит в браузере. Пользователю необходимо для начала загрузить весь JavaScript и только после этого что-то сможет отрисоваться. До этого момента страница будет либо пустой, либо будет содержать статическую заглушку-лоадер.

![пример пустой страницы при CSR](/assets/images/posts/js/web-app-types/twitter_loading.gif)

Такой подход является самым простым способом отображения SPA и подходит для небольших приложений, т.к небольшое приложение успеет быстро загрузится и запустится. Но если кода много и приложение получается большим, пользователи со слабыми устройствами или медленным интернетом могут не дождаться загрузки и вовсе покинуть сайт.

Весь код SPA разрабатывается на JavaScript, потому если по какой-то причине пользователь отключил JavaScript в своем браузере, то одностраничное приложение не запустится вовсе.

Тем не менее многие современные поисковые системы могут загружать и исполнять JavaScript, потому одностраничные приложения тоже могут попадать в результаты поиска.

![схема Client Side Rendering](/assets/images/posts/js/web-app-types/CSR.png)

### Server side rendering (SSR)

Для того, чтобы пользователь на смотрел на пустую страницу в ожидании загрузки всего приложения, можно отдавать ему сгенерированный сервером HTML. Таким образом пользователь сразу получит ожидаемую страничку и может начать ее просматривать, пока основное приложение загружется и запускается.

Такой подход называется серверным рендерингом. Он помогает улучшить и пользовательский опыт и позицию сайта в поисковиках. Поиск Google и Яндекса умеет исполнять JavaScript, но сайтам со статическим контентом отдается предпочтение.

Главным отличием такого подхода от рендеринга на клиенте, является сервер, который занимается рендерингом. Чаще всего это готовое решение на базе Node.js. Многие SPA-фреймворки имеют готовые и проверенные решения для быстрого старта приложения с серверным рендерингом. Например Next.js для React или Nuxt для Vue.

Своё решение для SSR — непростая задача. Приходится учитывать множество факторов: как и куда сходить за данными, как правильно отрисовать приложение и много других деталей.

Дополнительная серверная часть может потребовать дополнительной инфрастрктуры, потому разработка приложения с server side rendering будет сложнее.

![схема Server Side Rendering](/assets/images/posts/js/web-app-types/SSR.png)

### Static site generation (SSG)

Статические генераторы сайтов позволяют создать приложение, используя статические данные и шаблонизатор. На выходе получается многостраничный сайт. Отличие от классического многостраничного сайта в том, что большинство инструментов для статической генерации поддерживают SPA-фреймворки. Это позволяет объединить плюсы статического и SPA мира.

Самым распространенным примером SSG может быть персональный блог, когда у нас есть тексты статей, а с помощью шаблонизатора эти статьи превращаются в готовые html-странички. Эта страничка и сама Дока, которую вы сейчас читаете, разработана с помощью статической генерации.

Также когда говорят об SSG, то часто упоминают JAMstack. Слово JAMstack — это объединение первых букв от слов JavaScript, API, Markdown и слова stack. Технически JAMstack это подход к разработке сайтов и приложений основанные на перечисленных технологиях. Источником данных выступает Markdown (например текст статей блога), JavaScript вместе с React «оживляет» приложение, а с помощью API можно запрашивать наши данные. При SSG используется подход pre-rendering, что по сути является той же самой генерацией статических файлов (HTML, CSS и JavaScript).

JAMstack хорошо подходит для создания сайтов, наполненных статичным контентом, а SPA-фреймворки помогают создать хороший пользовательский опыт, получая при этом плюсы статических сайтов.


![схема Static site generation](/assets/images/posts/js/web-app-types/SSG.png)
## Progressive Web Applications (PWA)

PWA это набор технологий, который позволяет превратить сайт в полноценное приложение, которое можно установить из браузера себе на компьютер или на телефон. Эта трансформация позволяет веб-приложениям функционировать почти как нативные приложение, например работать в оффлайне или присылать уведомления.

В PWA можно превратить практически любой сайт, главное чтобы он соответствовал [требованиям](https://web.dev/pwa-checklist/) и поддерживал необходимые технологии (такие как Service Worker, HTTPS и т.д.).

Конечно такое приложение нельзя считать полноценно нативным, здесь имеются все те же ограниения в веб-технологиях, но это отличная возможность превратить свой сайт в устанавливаемое приложение.

## Заключение

На данный момент мы посмотрели самые распространенные виды веб-приложений, не углубляясь в детали их реализации. Каждый из описанных видов приложения имеет свои особенности, и потому выбор стоит делать исходя из тех целей, которые хочется достичь.

Например переход между многостраничным может быть затруднен если есть проблемы с сетью, при этом одностраничные приложение может продолжать работать и навигировать по страничкам. Но одностраничные приложения так же могут страдать от проблем с производительностью.
Эти знания должны стать хорошим путеводителем в выборе подходяшего типа приложения.
