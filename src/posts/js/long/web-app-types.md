---
title: "Виды веб-приложений"
name: web-app-types
author: windrushfarer
co-authors:
designers:
contributors:
summary:
  - web application
  - frontend фронтенд
---

## Кратко

Все веб-приложения в браузере делаются с помощью одних и тех же технологий. В основном это HTML, CSS и JavaScript. Однако способов, как построить приложение и как подходы для этого использовать гораздо больше.
В зависимости от того, какие цели преследует приложение и какого пользовательского опыта мы хотим добиться, нам может подойти тот или иной подход. Хотя основных подхода всего два: многостраничные приложения и Single Page Applications, на каждом подходе можно использовать различные техники для решения тех или иных проблем.
Многостраничные приложения часто состоят из статичных страниц, которые часто проще с точки зрения разработки и дают хорошие показатели производительности. Однако они часто не могут предоставить полноценный пользовательский опыт "как в приложении".
Одностраничные (SPA) приложения часто заставляют подумать на большим спектром проблем, например где приложение будет рендерится: только в браузере или на сервере? Так же разработка таких приложений часто сложнее, т.к может потребовать знания различных инструментов и фреймворков для решения существующих проблем. Это можно заметить по количеству подходов для организации такого приложения.

## Многостраничые приложения

Многостраничные приложения – это набор статичных веб-страниц, которые связаны между собой с помощью [ссылок](/html/doka/a). В таком приложении при навигации между страницами происходит переход по новому URL, что ведет к полному обновлению страницы. Этот факт является одним из наиболее значимых отличий от SPA, но о нем погорим чуть позже.
Для начала стоит выделить два основных вида многостраничных приложений:
- Набор готовых сверстанных страниц, которые лежат на сервере и вместе с ними находятся и другие статичные файлы (CSS, JavaScript и картинки). Сервер иммет настроенные пути для этих файлов и по запросу отдает нужный из них.
- Динамическая генерация HTML с помощью веб-сервера. Чаще всего такое решение можно встретить на языках программирования PHP и Ruby. При запросе на сервер происходит исполнение какого-либо скрипта, который может взять данные из базы данных, произвести вычисления и затем из различных кусочков собрать готовый HTML страницы, которая и вернется в ответе.

### Готовые веб-страницы

Такой подход к созданию приложения подойдет, если нужно собрать несколько связанных страниц, которые по большей части будут содержать статичную информацию, с которой пользователь может мало взаимодействовать Примером такого может быть лендинг – это веб-сайт, который представляет информацию о чем-либо (чаще о компании, товарах или продукте).
Все страницы связаны друг с другом посредством прямых ссылок и каждый новый переход будет означать загрузку новой запрашиваемой страницы.
Разработка сайта при таком подходе обычно самая простая, обычно рядом складываются несколько html-файлов, в которые содержиться вся необходимая верстка и дополнительные CSS/JavaScript файлы, которые подключаются в каждую нужную страницы. В более продвинутом варианте можно переиспользовать те или иные части кода с помощью шаблонизаторов (например [Pug](https://pugjs.org/api/getting-started.html)) и собрать сайт по кусочкам используя сборщики (Gulp, Rollup, Webpack и др.). В том или ином варианте результатом будет набор статичных файлов, которые будут раздаваться с помощью веб-сервера (например Nginx).
Главным плюсом такого подхода можно отметить возможность легко кэшировать статичные страницы и файлы (с помощью браузера, CDN или Service Worker), что дает отличную производительность.

[]Картинка для первого подхода

### Динамическая генерация HTML

Этот подход веб-приложений часто использовался до изобретения Single Page подхода. Однако до сих пор на этом подходе работают некоторые части таких больших приложений как Facebook или ВКонтакте.
Главной особенностью этого подхода является использование серверных языков программирования (например PHP или Ruby), чтобы генерировать готовый HTML для страницы, собирая его из разных частей и обогащая необходимыми данными. Например пользователь перешел на страничку со списком друзей. Сервер, реагируя на запрос, сначала может сходить в базу данных, выбрав список друзей, затем вызовет еще несколько функций, чтобы получит все данные и в конце по своему шаблону соберет HTML-строку, которую отправит в ответ. В результате пользователь сразу получит готовую страницу со списком друзей. Если добавить новых друзей и зайти на страничку еще раз, то результат уже будет другой, т.к список изменился. Это отличается от первого подхода с готовыи веб-страницами, т.к содержимое в них не меняется со временем из-за действий пользователя.
Использование сервера для генерации содержимого позволяет не загружать клиентский код сложной логикой, а значит итоговый размер страницы вместе со всеми ресурсами будет меньше. При этом статичные части приложения (даже целые куски страниц) можно так же легко кэшировать любым удобным способом, что так же способствует производительности.

[]Картинка для второго подхода

При всех плюсах многостраничных приложений, все они страдают от одного главного недостатка: при переходе между страницами браузер полностью обновляет содержимое, из-за чего нельзя создать полноценный опыт взаимодйствия "как в приложении": незакэшированным страницам нужно время для загрузки, а значит не будет мгновенного перехода; так же будет сбиваться положение скрола и т.д.
В стремлении решить эти проблемы и создать полноценный опыт приложений веб-разработчики изобрели одностраниные приложения.

## Single page applications (SPA)

Одностраничные приложения (сокращенно SPA), как гласит название, состоят из одной страницы, а всю остальную работу (создание содержимого, переход между экранами и т.д.) выполняет JavaScript. Такой подход позволяет создать полноценный опыт приложения, т.к переходы между экранами происходит мгновенно, а загружать данные можно асинхронно с помощью [API](/js/long/api/), сразу давая пользователю какой-то визуальный ответ.
Разработка одностраничных приложений имеет богатую экосистему: фреймворки и библиотеки для создания интерфейсов, подходы к разработке, архитектурные паттерны. Разновидности одностраничных приложений в основном отличаются тем где происходит начальная отрисовка: в браузере (client side rendering) или на севере (server side rendering).

### Client Side Rendering (CSR)

В таком приложении вся отрисовка содержимого страницы, включая первую, происходит в браузере. Пользователю необходимо для начала загрузить весь JavaScript и только после этого что-то сможет отрисоваться. До этого момента страница будет пустой.
Такой подход является самым простым способом отображения SPA и подходит для небольших приложений. Даже многие современные поисковые системы могут загружать и исполнять JavaScript, потому такая страница так же может быть попадать в результаты поиска. Однако для пользователей со слабыми устройствами или медленным интернетом загрузка такого приложения может быть долгой, потому что современные приложения могут весить достаточно много. Так же если по какой-то причине пользователь отключил JavaScript на в своем браузере, то приложение не запустится вовсе.

### Server side rendering (SSR)

Для того, чтобы пользователь на смотрел на пустую страницу в ожидании загрузка всего приложения, можно отдавать ему сгенерированную сервером HTML. Таким образом пользотваель сразу получит ожидаемую страничку и может начать ее просматривать, пока основное приложение загружется и запускается.
Такой подход называется серверным рендерингом и он помогает не только улучшить пользовательский опыт, но и SEO. Несмотря на то, что например Google умеет исполнить JavaScript, сайт все-равно может не проиндексирован по-множеству разных причин, в том числе связанная с производительностью. Отдать сгенерированный HTML часто бывает гораздо быстрее.
Главной же особенностью такого подхода является наличие сервера, который будет заниматься рендерингом. Чаще всего это будет какое-то решение на Node.js. Написание своего решения для SSR часто является непростой задачей, т.к приходится учитывать множество факторов: как и куда сходить за данными, как правильно отрисовать приложение и т.д. На текущий момент многие SPA-фреймворки имеют готовые и проверенные решения для быстрого старта приложения с серверным рендерингом, например Next.js для React или Nuxt для Vue.
Так же наличие дополнительной серверной части может потребовать дополнительной инфрастрктуры, потому в целом разработка приложения с server side rendering будет сложнее.

### Static site generation (SSG)

Статические генераторы сайтов позволяет нам, используя какие-то статические данные и шаблонизатор создать свое приложение. По сути на выходе получится набор статичных файлов и мы получим многостраничный сайт. Однако большинство инструментов для статической генерации поддерживает SPA-фреймворки и даже позволяют объединить некоторые плюсы статического и SPA мира.
Самым распространенным примером SSG может быть персональный блог, когда у нас есть тексты статей, а с помощью шаблонизатора эти статьи превращаются в готовые html-странички. Эта страничка и сама Дока, которвую вы сейчас читаете, разработана с помощью статической генерации.
Так же когда говорят об SSG, то часто упоминают JAMstack. Слово JAMstack -- это объединение первых букв от слов JavaScript, API, Markdown и слова stack. Технически JAMstack это подход к разработке сайтов и приложений основанные на перечисленных технлогиях. Источником данных выступает Markdown (наприме текст статей блога), JavaScript вместе React "оживляет" приложение, а с помощью API можно запрашивать наши данные. В таком подходе используется подход pre-rendering, что по сути является той же самой генерацией статических файлов (HTML, CSS и JavaScript).
Если для генерации использоваться SPA-фреймворк, то часто после запуска сайта, оно превращается в приложение, делая переходы между страницами мгновенными, тем самым избавляя нас от минусов многостраничных сайтов.
JAMstack хорошо подходят для создания сайтов, наполненных разнообразным статичным контентом, а использование SPA-фреймворков получать от таких сайтов хороший пользовательский опыт, получая при этом плюсы статических сайтов.

## Progressive Web Applications (PWA)

PWA это набор технологий, который позволяет превратить сайт в полноценное приложение, котороые можно установить из браузера себе на компьютер или на телефон. Эта трансформация позволяет веб-приложениям функционировать почти как нативные приложение, например возможность работать в оффлайне или присылать уведомления. При этом установленное приложение и выглядет соответствующе: не будет видно браузеной строки и других браузерных интрефейсов. Для примера можно попробовать зайти на сайты Twitter, Squoosh или Aviasales, на своих страничках эти сайты могут предложить вам установить его как приложение.
В PWA можно превратить практически любой сайт, главное чтобы он соответствовал [требованиям](https://web.dev/pwa-checklist/) и поддерживал необходимые технологии (такие как Service Worker, HTTPS и т.д.).
Конечно такое приложение нельзя считать полноценно нативным, здесь имеются все те же ограниения в веб-технолгиях, но это отличная возможность превратить свой сайт в устанавливаемое приложение.

## Заключение

На данный момент мы посмотрели самые распространенные виды веб-приложений, не углубляясь в детали их реализации. Каждый из описанных видов приложения имеет свои особенности, и потому выбор стоит делать исходя из тех целей, которые хочется достичь.
Например переход между многостраничным может быть затруднен если есть проблемы с сетью, при этом одностраничные приложение может продолжать работать и навигировать по страничкам. Но одностраничные приложения так же могут страдать от проблем с производительностью.
Эти знания должны стать хорошим путеводителем в выборе подходяшего типа приложения.
